\chapter{Architektur}\label{ch:architektur}

\section{Überblick}\label{sec:uberblick}
Wie in \refa{fig:HighLevelArch} zu sehen ist, wird hier eine klassische Web-App Architektur angewendet,
welche um einen Authentifizierungsdienst erweitert wird.\\
Das Frontend übernimmt die Aufgabe der Darstellung und Interaktion mit dem benutzer.
Dabei interagiert dieses mit dem Backend über eine \ac{REST} Schnittstelle sowie dem Authentifizierungsdienst.\\
Das Backend stellt dem Frontend Daten berit und interagiert mit einem Datenspeicher.\\
Der Authentifizierungsdienst ist ein externer Dienst der verwendet wir, um die Nutzer Accounts zu managen.
Über diesen erhält das Frontend einen \ac{JWT} Token, welcher den Nutzer gegenüber dem Backend Authentifizieren kann.
Dazu stellt das Backend mithilfe des \ac{JWT} Tokens eine entsprechende anfrage an den Authentifizierungsdienst.

\begin{figure}[h]
    \centering
    \includesvg[width=8cm]{images/HighLevelArch}
    \caption{Architektur überblick}\label{fig:HighLevelArch}
\end{figure}

\section{Fokus: Backend}\label{sec:fokus:-backend}

Während die innere Struktur des Frontends stark vom verwendeten Framework abhängt und an diese Stelle nicht näher beschrieben werden kann,
ist es für das Backend durchaus möglich.
\refa{fig:BackendArch} Zeigt den strukturellen Aufbau des Backends Näher, dabei kann die grafik in vier zonen unterteilt werden:
\begin{itemize}
    \item Links Kommunikation mit Webdiensten sowie dem eigenen Frontend.
    \item Unten Interface mit Datenspeichern.
    \item Rechts zugriff auf Konfigurationsdateien.
    \item Zentral die Verarbeitung aller teilkomponenten
\end{itemize}

\begin{figure}[h]
    \includesvg[width=15cm]{images/BackendArch}
    \caption{Backend Architektur}\label{fig:BackendArch}
\end{figure}

Die Kommunikation mit Webdiensten lässt sich in zwei Teilmodule, unterteilen: die \ac{REST} \ac{API},
sowie die Authentifizierungsprüfung.\\
Dabei stellt ersteres Klare Schnittstellen bereit und greift auf letzteres zu um die Berechtigungen der Nutzer zu prüfen.\\
\\
Das Interface mit den Datenspeichern entkoppelt die Anwendung sowie deren Daten vom verwendeten Speicherdienst beziehungsweise
Datenbank.\\
Dabei wird zwischen "Core Daten" welche für die funktionalität zwingend notwendig benötigt werden
und "User Daten" welche lediglich die bedingung sowie handhabung des Nutzers verbessern.\\
"Core Daten" werden dabei immer auf einer eigenen Datenbank gespeichert.
Hierbei ust die Datenbank Technologie selbst durch das Datenbankinterface entkoppelt.\\
"User Daten" hingegen könnten an anderer Stelle gespeichert werden.
Diese Möglichkeit wird hier zwar eindeutig berücksichtigt jedoch wird ein dementsprechendes Interface nicht explizit entwickelt.
\\\\
Rechts ist der Zugriff auf Konfigurationsdateien angedeutet, welche eine Zentrale Rolle spielen.
Prozess Konfigurationen encapsulation all jene welchen den fluss und inhalt eines Antrags sowie dessen Export beschreiben.
Diese weisen eine hohe komplexität auf und können nicht unbedingt ohne weiteres bearbeitet werden.
Regel Konfigurationen hingegen sind einfach gestaltet und sollten nach einer erklärung aus der Anleitung leicht anpassbar sein.
Diese enthalten beispielsweise parameter zu berechnung von Reisekosten.
\\\\
Zentral steht die Verarbeitung der außenstehenden Module.
Dabei werden die Informationen der Konfigurationsdateien ausgewertet und kombiniert.